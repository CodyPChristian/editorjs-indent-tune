!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.IndentPlugin=e():t.IndentPlugin=e()}(self,(()=>(()=>{"use strict";var t={424:(t,e,n)=>{n.d(e,{Z:()=>r});var o=n(645),i=n.n(o)()((function(t){return t[1]}));i.push([t.id,".ce-popover-item-custom:hover {\r\n    background-color: transparent !important;\r\n}\r\n\r\n.ce-popover-item-custom .ce-popover-item__icon {\r\n    will-change: background-color;\r\n    transition: 0.3s background-color;\r\n    padding-block: 0px;\r\n    padding-inline: 0px;\r\n    border-width: 0px;\r\n    color: var(--color-text-primary, black);\r\n}\r\n\r\n.ce-popover-item-custom .ce-popover-item--disabled {\r\n    color: var(--color-text-secondary, #707684);\r\n}\r\n\r\n.ce-popover-item-custom .ce-popover-item__icon:focus {\r\n    outline: none;\r\n}\r\n\r\n.ce-popover-item-custom:hover .ce-popover-item__icon {\r\n    box-shadow: 0 0 0 1px var(--color-border-icon, rgba(201, 201, 204, 0.48)) !important;\r\n    -webkit-box-shadow: 0 0 0 1px var(--color-border-icon, rgba(201, 201, 204, 0.48)) !important;\r\n}\r\n\r\n.ce-popover-item-custom .ce-popover-item__icon:hover {\r\n    background-color: var(--color-background-item-hover, #eff2f5);\r\n}\r\n",""]);const r=i},645:t=>{t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var n=t(e);return e[2]?"@media ".concat(e[2]," {").concat(n,"}"):n})).join("")},e.i=function(t,n,o){"string"==typeof t&&(t=[[null,t,""]]);var i={};if(o)for(var r=0;r<this.length;r++){var a=this[r][0];null!=a&&(i[a]=!0)}for(var c=0;c<t.length;c++){var l=[].concat(t[c]);o&&i[l[0]]||(n&&(l[2]?l[2]="".concat(n," and ").concat(l[2]):l[2]=n),e.push(l))}},e}},548:(t,e,n)=>{var o=n(379),i=n.n(o),r=n(424);i()(r.Z,{insert:"head",singleton:!1}),r.Z.locals},379:(t,e,n)=>{var o,i=function(){var t={};return function(e){if(void 0===t[e]){var n=document.querySelector(e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(t){n=null}t[e]=n}return t[e]}}(),r=[];function a(t){for(var e=-1,n=0;n<r.length;n++)if(r[n].identifier===t){e=n;break}return e}function c(t,e){for(var n={},o=[],i=0;i<t.length;i++){var c=t[i],l=e.base?c[0]+e.base:c[0],u=n[l]||0,s="".concat(l," ").concat(u);n[l]=u+1;var d=a(s),p={css:c[1],media:c[2],sourceMap:c[3]};-1!==d?(r[d].references++,r[d].updater(p)):r.push({identifier:s,updater:h(p,e),references:1}),o.push(s)}return o}function l(t){var e=document.createElement("style"),o=t.attributes||{};if(void 0===o.nonce){var r=n.nc;r&&(o.nonce=r)}if(Object.keys(o).forEach((function(t){e.setAttribute(t,o[t])})),"function"==typeof t.insert)t.insert(e);else{var a=i(t.insert||"head");if(!a)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");a.appendChild(e)}return e}var u,s=(u=[],function(t,e){return u[t]=e,u.filter(Boolean).join("\n")});function d(t,e,n,o){var i=n?"":o.media?"@media ".concat(o.media," {").concat(o.css,"}"):o.css;if(t.styleSheet)t.styleSheet.cssText=s(e,i);else{var r=document.createTextNode(i),a=t.childNodes;a[e]&&t.removeChild(a[e]),a.length?t.insertBefore(r,a[e]):t.appendChild(r)}}function p(t,e,n){var o=n.css,i=n.media,r=n.sourceMap;if(i?t.setAttribute("media",i):t.removeAttribute("media"),r&&"undefined"!=typeof btoa&&(o+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(r))))," */")),t.styleSheet)t.styleSheet.cssText=o;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(o))}}var v=null,f=0;function h(t,e){var n,o,i;if(e.singleton){var r=f++;n=v||(v=l(e)),o=d.bind(null,n,r,!1),i=d.bind(null,n,r,!0)}else n=l(e),o=p.bind(null,n,e),i=function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(n)};return o(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;o(t=e)}else i()}}t.exports=function(t,e){(e=e||{}).singleton||"boolean"==typeof e.singleton||(e.singleton=(void 0===o&&(o=Boolean(window&&document&&document.all&&!window.atob)),o));var n=c(t=t||[],e);return function(t){if(t=t||[],"[object Array]"===Object.prototype.toString.call(t)){for(var o=0;o<n.length;o++){var i=a(n[o]);r[i].references--}for(var l=c(t,e),u=0;u<n.length;u++){var s=a(n[u]);0===r[s].references&&(r[s].updater(),r.splice(s,1))}n=l}}}}},e={};function n(o){var i=e[o];if(void 0!==i)return i.exports;var r=e[o]={id:o,exports:{}};return t[o](r,r.exports,n),r.exports}n.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return n.d(e,{a:e}),e},n.d=(t,e)=>{for(var o in e)n.o(e,o)&&!n.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:e[o]})},n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),n.nc=void 0;var o={};return(()=>{n.d(o,{default:()=>a});var t='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"\n    style="transform:rotateZ(0.25turn)">\n    <path stroke="currentColor" stroke-linecap="round" stroke-width="2"\n        d="M7 15L11.8586 10.1414C11.9367 10.0633 12.0633 10.0633 12.1414 10.1414L17 15"></path>\n</svg>',e='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"\n    style="transform:rotateZ(-0.25turn)">\n    <path stroke="currentColor" stroke-linecap="round" stroke-width="2"\n        d="M7 15L11.8586 10.1414C11.9367 10.0633 12.0633 10.0633 12.1414 10.1414L17 15"></path>\n</svg>',i=function(){return i=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},i.apply(this,arguments)},r="data-block-indent-wrapper";n(548).toString();const a=function(){function n(t){var e,n,o,r,a=t.api,c=t.data,l=t.config,u=t.block;this.wrapper=null,this.api=a,this.block=u;this.config=i(i({},{indentSize:24,maxIndent:8,minIndent:0,multiblock:!1,tuneName:null,orientation:"horizontal",customBlockIndentLimits:{},handleShortcut:void 0}),null!=l?l:{});var s=null!==(r=null===(o=this.config.customBlockIndentLimits[null!==(n=null===(e=this.block)||void 0===e?void 0:e.name)&&void 0!==n?n:""])||void 0===o?void 0:o.min)&&void 0!==r?r:this.config.minIndent;this.data=i({indentLevel:s},null!=c?c:{}),this.config.multiblock&&!this.config.tuneName&&console.error("IndentTune config 'tuneName' was not provided, this is required for multiblock option to work.")}return Object.defineProperty(n,"isTune",{get:function(){return!0},enumerable:!1,configurable:!0}),n.prototype.render=function(){var n,o,i,r,a=this;if(setTimeout((function(){var t,e;a.data.indentLevel==a.maxIndent&&(null===(t=a.getTuneButton("indent"))||void 0===t||t.classList.add(a.CSS.disabledItem)),a.data.indentLevel==a.minIndent&&(null===(e=a.getTuneButton("unindent"))||void 0===e||e.classList.add(a.CSS.disabledItem))}),0),"vertical"===this.config.orientation)return[{title:this.api.i18n.t("Indent"),onActivate:function(t,e){return a.indentBlock()},icon:t,name:"".concat(this.TuneNames.indent,"-").concat(null===(n=this.block)||void 0===n?void 0:n.id)},{title:this.api.i18n.t("Un Indent"),onActivate:function(t,e){return a.unIndentBlock()},icon:e,name:"".concat(this.TuneNames.unindent,"-").concat(null===(o=this.block)||void 0===o?void 0:o.id)}];var c='\n\t\t\t<div class="'.concat(this.CSS.popoverItem," ").concat(this.CSS.customPopoverItem,"\" data-item-name='indent'>\n\t\t\t\t<button class=\"").concat(this.CSS.popoverItemIcon,'" data-unindent>').concat(e,'</button>\n\t\t\t\t<div class="').concat(this.CSS.popoverItemTitle,'">').concat(this.api.i18n.t("Indent"),'</div>\n\t\t\t\t<button class="').concat(this.CSS.popoverItemIcon,'" data-indent style="margin-left:10px;">').concat(t,"</button>\n\t\t\t</div>\n\t\t"),l=(new DOMParser).parseFromString(c,"text/html").body.firstChild;return null===(i=l.querySelector("[data-indent]"))||void 0===i||i.addEventListener("click",(function(){return a.indentBlock()})),null===(r=l.querySelector("[data-unindent]"))||void 0===r||r.addEventListener("click",(function(){return a.unIndentBlock()})),l},n.prototype.wrap=function(t){var e=this;return this.wrapper=document.createElement("div"),this.wrapper.appendChild(t),this.wrapper.setAttribute(r,""),this.wrapper.style.paddingLeft="".concat(this.data.indentLevel*this.config.indentSize,"px"),this.wrapper.addEventListener("keydown",(function(t){var n,o,i,r=Boolean(e.config.handleShortcut);if(r||"Tab"===t.key){var a=null===(o=(n=e.config).handleShortcut)||void 0===o?void 0:o.call(n,t);if(!a||!r){t.stopPropagation(),t.preventDefault(),e.api.inlineToolbar.close();var c=a?"indent"===a:!t.shiftKey,l=e.getGlobalSelectedBlocks();if(!e.config.multiblock||l.length<2)return c?e.indentBlock():e.unIndentBlock(),void(null===(i=e.block)||void 0===i||i.dispatchChange());Boolean(e.config.tuneName)?l.forEach((function(t){return n=e,o=void 0,r=function(){var e,n,o,i,r,a;return function(t,e){var n,o,i,r,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function c(c){return function(l){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;r&&(r=0,c[0]&&(a=0)),a;)try{if(n=1,o&&(i=2&c[0]?o.return:c[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,c[1])).done)return i;switch(o=0,i&&(c=[2&c[0],i.value]),c[0]){case 0:case 1:i=c;break;case 4:return a.label++,{value:c[1],done:!1};case 5:a.label++,o=c[1],c=[0];continue;case 7:c=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==c[0]&&2!==c[0])){a=0;continue}if(3===c[0]&&(!i||c[1]>i[0]&&c[1]<i[3])){a.label=c[1];break}if(6===c[0]&&a.label<i[1]){a.label=i[1],i=c;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(c);break}i[2]&&a.ops.pop(),a.trys.pop();continue}c=e.call(t,a)}catch(t){c=[6,t],o=0}finally{n=i=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,l])}}}(this,(function(l){switch(l.label){case 0:return[4,t.save()];case 1:return(e=l.sent())?(n=null===(i=e.tunes)||void 0===i?void 0:i[this.config.tuneName],console.assert(Boolean(n),"'tuneName' is invalid, no tune was found for block ".concat(t.name)),n.indentLevel=c?Math.min(this.config.maxIndent,(null!==(r=n.indentLevel)&&void 0!==r?r:0)+1):Math.max(0,(null!==(a=n.indentLevel)&&void 0!==a?a:0)-1),t.dispatchChange(),(o=this.getWrapperBlockById(t.id))instanceof HTMLElement&&this.applyStylesToWrapper(o,n.indentLevel),[2]):[2]}}))},new((i=void 0)||(i=Promise))((function(t,e){function a(t){try{l(r.next(t))}catch(t){e(t)}}function c(t){try{l(r.throw(t))}catch(t){e(t)}}function l(e){var n;e.done?t(e.value):(n=e.value,n instanceof i?n:new i((function(t){t(n)}))).then(a,c)}l((r=r.apply(n,o||[])).next())}));var n,o,i,r})):console.error("'tuneName' is empty.")}}}),{capture:!0}),this.wrapper},n.prototype.save=function(){return this.data},Object.defineProperty(n.prototype,"CSS",{get:function(){return{customPopoverItem:" ce-popover-item-custom",popoverItem:"ce-popover-item",popoverItemIcon:"ce-popover-item__icon",popoverItemTitle:"ce-popover-item__title",disabledItem:"ce-popover-item--disabled"}},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"TuneNames",{get:function(){return{indent:"tune-indent",unindent:"tune-unindent"}},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"customInterval",{get:function(){var t,e,n;return null!==(n=this.config.customBlockIndentLimits[null!==(e=null===(t=this.block)||void 0===t?void 0:t.name)&&void 0!==e?e:""])&&void 0!==n?n:{}},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"maxIndent",{get:function(){var t;return null!==(t=this.customInterval.max)&&void 0!==t?t:this.config.maxIndent},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"minIndent",{get:function(){var t;return null!==(t=this.customInterval.min)&&void 0!==t?t:this.config.minIndent},enumerable:!1,configurable:!0}),n.prototype.indentBlock=function(){var t,e;this.wrapper&&(this.data.indentLevel=Math.min(this.data.indentLevel+1,this.maxIndent),this.applyStylesToWrapper(this.wrapper,this.data.indentLevel),null===(t=this.getTuneButton("unindent"))||void 0===t||t.classList.remove(this.CSS.disabledItem),this.data.indentLevel===this.maxIndent&&(null===(e=this.getTuneButton("indent"))||void 0===e||e.classList.add(this.CSS.disabledItem)))},n.prototype.unIndentBlock=function(){var t,e;this.wrapper&&(this.data.indentLevel=Math.max(this.data.indentLevel-1,this.minIndent),this.applyStylesToWrapper(this.wrapper,this.data.indentLevel),null===(t=this.getTuneButton("indent"))||void 0===t||t.classList.remove(this.CSS.disabledItem),this.data.indentLevel===this.minIndent&&(null===(e=this.getTuneButton("unindent"))||void 0===e||e.classList.add(this.CSS.disabledItem)))},n.prototype.getTuneButton=function(t){var e;return"vertical"===this.config.orientation?this.getTuneByName("".concat(this.TuneNames[t],"[data-item-name=").concat(null===(e=this.block)||void 0===e?void 0:e.id,"]")):document.querySelector(".".concat(this.CSS.popoverItemIcon,"[data-").concat(t,"]"))},n.prototype.getTuneByName=function(t){return document.querySelector(".".concat(this.CSS.popoverItem,"[data-item-name=").concat(t,"]"))},n.prototype.applyStylesToWrapper=function(t,e){t.style.paddingLeft="".concat(e*this.config.indentSize,"px")},n.prototype.getGlobalSelectedBlocks=function(){var t=this;return new Array(this.api.blocks.getBlocksCount()).fill(0).map((function(e,n){return t.api.blocks.getBlockByIndex(n)})).filter((function(t){return!!(null==t?void 0:t.selected)}))},n.prototype.getWrapperBlockById=function(t){return document.querySelector('.ce-block[data-id="'.concat(t,'"] [').concat(r,"]"))},n}()})(),o.default})()));